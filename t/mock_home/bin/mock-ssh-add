#!/usr/bin/env bash

# When first option is `-l` we assume we're being called as
# `ssh-add` and being asked to list the currently loaded keys.
# Claim we have no identities loaded.
[ _"$1" = _-l ] && { exit 1; }

echo "env SSH_AUTH_SOCK: $SSH_AUTH_SOCK"
for arg in "$@"; do echo "arg: $arg"; done
case "$0" in
    *-add)  : ;; # ssh-add doesn't read stdin and this makes testing easier
    *)      echo stdin:; cat;;
esac
